<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas甘特图</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./import-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="pane-container">
        <div class="header-pane">
            <h1>甘特图</h1>
            <a href="task-list.html" class="view-task-list" title="查看任务列表">
                <i class="fas fa-list"></i> 任务列表
            </a>
        </div>
        
        <div class="controls-pane">
            <div class="action-buttons">
                <button id="addTask" class="action-btn btn-primary" title="添加新任务"><i class="fas fa-plus-circle btn-icon"></i>添加</button>
                <button id="importBtn" class="action-btn btn-secondary" title="导入JSON格式的任务数据"><i class="fas fa-file-import btn-icon"></i>导入</button>
                <input type="file" id="importFile" accept=".json" style="display:none" 
                       title="选择JSON文件导入" aria-label="选择JSON文件导入">
                <button id="exportBtn" class="action-btn btn-secondary" title="导出当前任务数据为JSON文件"><i class="fas fa-file-export btn-icon"></i>导出</button>                
            
                <button id="prevWeek" class="action-btn btn-secondary" aria-label="上一周" title="上一周"><i class="fas fa-chevron-left btn-icon"></i></button>
                <button id="todayBtn" class="action-btn btn-secondary" aria-label="跳转到今天" title="跳转到今天"><i class="fas fa-calendar-day btn-icon"></i> 今天</button>
                <span id="currentDateRange">2023年11月20日-26日</span>
                <button id="nextWeek" class="action-btn btn-secondary" aria-label="下一周" title="下一周"><i class="fas fa-chevron-right btn-icon"></i></button>
           
                <button id="weekView" class="action-btn btn-secondary active" title="切换到周视图"><i class="fas fa-calendar-week btn-icon"></i>周视图</button>
                <button id="monthView" class="action-btn btn-secondary" title="切换到月视图"><i class="fas fa-calendar-alt btn-icon"></i>月视图</button>
            </div>
        </div>
        
        <div class="gantt-pane">
            <div class="canvas-container">
                <canvas id="ganttCanvas"></canvas>
            </div>
        </div>
    </div>

    <div id="taskDialog" class="task-dialog" aria-hidden="true">
        <form id="taskForm">
            <h3>添加新任务</h3>
            <div class="dialog-content">
                <label for="taskName">任务名称</label>
                <input type="text" id="taskName" required aria-describedby="taskNameHelp" 
                       placeholder="例如：项目计划会议" title="请输入任务名称">
                
            </div>
            <div class="dialog-content">
                <label for="taskStartDate">开始日期</label>
                <input type="date" id="taskStartDate" required aria-describedby="startDateHelp"
                       title="请选择任务开始日期">
               
            </div>
            <div class="dialog-content">
                <label for="taskEndDate">结束日期</label>
                <input type="date" id="taskEndDate" required aria-describedby="endDateHelp"
                       title="请选择任务结束日期">
                
                
            </div>
            <div class="dialog-buttons">
                <button type="button" id="cancelDialog" class="dialog-btn cancel-btn" title="取消当前操作"><i class="fas fa-times"></i> 取消</button>
                <button type="submit" class="dialog-btn submit-btn" title="提交任务信息"><i class="fas fa-check"></i> 添加</button>
            </div>
        </form>
    </div>
    <div id="overlay" class="overlay" aria-hidden="true" tabindex="-1"></div>
    <script src="import-helper.js"></script>
    <script src="task-styles.js"></script>
    <script src="script.js"></script>
</body>
</html>